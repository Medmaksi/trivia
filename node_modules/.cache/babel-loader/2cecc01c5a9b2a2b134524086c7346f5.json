{"ast":null,"code":"import createDataContext from './createDataContext';\n\nconst axios = require('axios');\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'getToken':\n      return { ...state,\n        token: action.token\n      };\n\n    case 'getQuestions':\n      console.log(action.payload.questions);\n      return { ...state,\n        questions: action.payload.questions\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst getToken = dispatch => {\n  return () => {\n    axios.post('https://opentdb.com/api_token.php?command=request').then(function (response) {\n      dispatch({\n        type: 'getToken',\n        token: response.data.token\n      });\n      console.log(response.data.token);\n    }).catch(function (error) {\n      console.log(error.response);\n    });\n  };\n};\n\nconst getQuestions = dispatch => {\n  return () => {\n    axios.post('https://opentdb.com/api.php?amount=10').then(function (response) {\n      dispatch({\n        type: 'getQuestions',\n        payload: {\n          questions: response.data.results\n        }\n      });\n    }).catch(function (error) {\n      console.log(error.response);\n    });\n  };\n};\n\nexport const {\n  Provider,\n  Context\n} = createDataContext(authReducer, {\n  getToken,\n  getQuestions\n}, {\n  token: null,\n  questions: null\n});","map":{"version":3,"sources":["/Users/medmaksi/trivia/src/context/AuthContext.js"],"names":["createDataContext","axios","require","authReducer","state","action","type","token","console","log","payload","questions","getToken","dispatch","post","then","response","data","catch","error","getQuestions","results","Provider","Context"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,qBAA9B;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,UAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELG,QAAAA,KAAK,EAAEF,MAAM,CAACE;AAFT,OAAP;;AAIF,SAAK,cAAL;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,OAAP,CAAeC,SAA3B;AACA,aAAO,EACL,GAAGP,KADE;AAELO,QAAAA,SAAS,EAAEN,MAAM,CAACK,OAAP,CAAeC;AAFrB,OAAP;;AAIF;AACE,aAAOP,KAAP;AAbJ;AAeD,CAhBD;;AAkBA,MAAMQ,QAAQ,GAAIC,QAAD,IAAc;AAC7B,SAAM,MAAM;AACVZ,IAAAA,KAAK,CACAa,IADL,CACU,mDADV,EAGKC,IAHL,CAGU,UAAUC,QAAV,EAAoB;AACxBH,MAAAA,QAAQ,CAAC;AACPP,QAAAA,IAAI,EAAE,UADC;AAEPC,QAAAA,KAAK,EAAES,QAAQ,CAACC,IAAT,CAAcV;AAFd,OAAD,CAAR;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACC,IAAT,CAAcV,KAA1B;AACD,KATL,EAUKW,KAVL,CAUW,UAAUC,KAAV,EAAiB;AACtBX,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAK,CAACH,QAAlB;AACD,KAZL;AAaD,GAdD;AAeD,CAhBD;;AAkBA,MAAMI,YAAY,GAAIP,QAAD,IAAc;AACjC,SAAO,MAAM;AACXZ,IAAAA,KAAK,CACAa,IADL,CACU,uCADV,EAGKC,IAHL,CAGU,UAAUC,QAAV,EAAoB;AACxBH,MAAAA,QAAQ,CAAC;AACPP,QAAAA,IAAI,EAAE,cADC;AAEPI,QAAAA,OAAO,EAAE;AACPC,UAAAA,SAAS,EAAEK,QAAQ,CAACC,IAAT,CAAcI;AADlB;AAFF,OAAD,CAAR;AAMD,KAVL,EAWKH,KAXL,CAWW,UAAUC,KAAV,EAAiB;AACtBX,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAK,CAACH,QAAlB;AACD,KAbL;AAcD,GAfD;AAgBD,CAjBD;;AAmBA,OAAO,MAAM;AAACM,EAAAA,QAAD;AAAWC,EAAAA;AAAX,IAAsBvB,iBAAiB,CAClDG,WADkD,EAElD;AAACS,EAAAA,QAAD;AAAWQ,EAAAA;AAAX,CAFkD,EAGlD;AAACb,EAAAA,KAAK,EAAE,IAAR;AAAcI,EAAAA,SAAS,EAAE;AAAzB,CAHkD,CAA7C","sourcesContent":["import createDataContext from './createDataContext';\nconst axios = require('axios');\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'getToken':\n      return {\n        ...state,\n        token: action.token\n      }\n    case 'getQuestions':\n      console.log(action.payload.questions)\n      return {\n        ...state,\n        questions: action.payload.questions\n      }\n    default:\n      return state;\n  }\n};\n\nconst getToken = (dispatch) => {\n  return() => {\n    axios\n        .post('https://opentdb.com/api_token.php?command=request',\n        )\n        .then(function (response) {\n          dispatch({\n            type: 'getToken',\n            token: response.data.token\n          });\n          console.log(response.data.token)\n        })\n        .catch(function (error) {\n          console.log(error.response);\n        });\n  }\n}\n\nconst getQuestions = (dispatch) => {\n  return () => {\n    axios\n        .post('https://opentdb.com/api.php?amount=10',\n        )\n        .then(function (response) {\n          dispatch({\n            type: 'getQuestions',\n            payload: {\n              questions: response.data.results\n            }\n          })\n        })\n        .catch(function (error) {\n          console.log(error.response);\n        });\n  }\n}\n\nexport const {Provider, Context} = createDataContext(\n  authReducer,\n  {getToken, getQuestions},\n  {token: null, questions: null},\n);\n"]},"metadata":{},"sourceType":"module"}